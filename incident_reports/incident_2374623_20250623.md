# Incident Report: 2374623 - HTTP 500 Errors on todo-webapp

## Incident Time
- 7:55 am IST, 23 June 2025

## Incident Description
A production alert flagged HTTP 500 errors being returned by the Kubernetes deployment 'todo-webapp'. Users reported service disruptions corresponding to the error.

## Root Cause Analysis
- The `addTodoHandler` in `main.go` handles POST requests to add todo items.
- The handler contains a new feature to perform special validation on todos starting with "bug".
- This validation attempts to access `validationRules[5]` on a slice with length 2, causing an out-of-bounds panic.
- The panic causes the handler to crash, resulting in HTTP 500 errors returned to the users.

## Resolution
- Added boundary check before accessing `validationRules` to prevent out-of-bounds access.
- Logged skipping the invalid validation rule index safely.

## Verification
- After the fix, no panics occur for "bug" prefixed todo texts.
- The service no longer returns HTTP 500 errors for these requests.

## Next Steps
- Monitor logs for any recurring errors.
- Review validation logic for any other similar unsafe indexing.
- Add test coverage for edge cases in validation handling.

---

This incident report completes the root cause analysis and resolution for the HTTP 500 errors in todo-webapp.